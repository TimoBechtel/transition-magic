{"version":3,"file":"index.modern.js","sources":["../../node_modules/@compactjs/remap/dist/index.module.js","../../src/utils.js","../../src/transition.js","../../src/transitionTemplates.js"],"sourcesContent":["var r=function(r,n,t,e,o){return e+(r-n)/(t-n)*(o-e)};export{r as remap};\n//# sourceMappingURL=index.module.js.map\n","export const between = (value, start, end) => value >= start && value <= end;\nexport { remap as map } from '@compactjs/remap';\n","import { between, map } from './utils';\n\nconst applyStyles = (element, styles) => {\n\tObject.entries(styles).forEach(([prop, style]) => {\n\t\telement.style[prop] = style;\n\t});\n};\n\nexport const Transition = (element, duration) => {\n\tconst keyFrames = [];\n\tlet currentFrame = 0;\n\tlet outOfFrame = false;\n\tconst update = () => {\n\t\tconst styles = {};\n\t\tkeyFrames.forEach((keyframe) => {\n\t\t\tconst properties = keyframe.css;\n\t\t\tif (\n\t\t\t\tbetween(\n\t\t\t\t\tcurrentFrame,\n\t\t\t\t\tduration * keyframe.start,\n\t\t\t\t\tduration * keyframe.end\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tproperties.forEach((prop) => {\n\t\t\t\t\tconst newValue = map(\n\t\t\t\t\t\tcurrentFrame,\n\t\t\t\t\t\tduration * keyframe.start,\n\t\t\t\t\t\tduration * keyframe.end,\n\t\t\t\t\t\tprop.sourceValue,\n\t\t\t\t\t\tprop.targetValue\n\t\t\t\t\t);\n\t\t\t\t\tif (styles[prop.propertyName] === undefined)\n\t\t\t\t\t\tstyles[prop.propertyName] = '';\n\t\t\t\t\tstyles[prop.propertyName] += prop.computedValue(newValue) + ' ';\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tproperties.forEach((prop) => {\n\t\t\t\t\tconst newValue =\n\t\t\t\t\t\tcurrentFrame < duration * keyframe.start\n\t\t\t\t\t\t\t? prop.sourceValue\n\t\t\t\t\t\t\t: prop.targetValue;\n\t\t\t\t\tif (styles[prop.propertyName] === undefined)\n\t\t\t\t\t\tstyles[prop.propertyName] = '';\n\t\t\t\t\tstyles[prop.propertyName] += prop.computedValue(newValue) + ' ';\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tapplyStyles(element, styles);\n\t};\n\treturn {\n\t\taddKeyframe(cssProperties, start, end) {\n\t\t\tkeyFrames.push({\n\t\t\t\tcss: cssProperties,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\tnext() {\n\t\t\tif (currentFrame < duration) {\n\t\t\t\tcurrentFrame++;\n\t\t\t\trequestAnimationFrame(update);\n\t\t\t}\n\t\t},\n\t\tprevious() {\n\t\t\tif (currentFrame > 0) {\n\t\t\t\tcurrentFrame--;\n\t\t\t\trequestAnimationFrame(update);\n\t\t\t}\n\t\t},\n\t\tset(frame) {\n\t\t\tif (between(frame, 0, duration)) {\n\t\t\t\tcurrentFrame = frame;\n\t\t\t\trequestAnimationFrame(update);\n\t\t\t\toutOfFrame = false;\n\t\t\t} else {\n\t\t\t\tif (!outOfFrame) {\n\t\t\t\t\tcurrentFrame = frame;\n\t\t\t\t\trequestAnimationFrame(update);\n\t\t\t\t\toutOfFrame = true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n};\n","export const translateX = (from, to) => {\n\tif (to === undefined) {\n\t\tto = from;\n\t\tfrom = 0;\n\t}\n\treturn {\n\t\tpropertyName: 'transform',\n\t\tcomputedValue: (newValue) => `translateX(${newValue}px)`,\n\t\tsourceValue: from,\n\t\ttargetValue: to,\n\t};\n};\n\nexport const translateY = (from, to) => {\n\tif (to === undefined) {\n\t\tto = from;\n\t\tfrom = 0;\n\t}\n\treturn {\n\t\tpropertyName: 'transform',\n\t\tcomputedValue: (newValue) => `translateY(${newValue}px)`,\n\t\tsourceValue: from,\n\t\ttargetValue: to,\n\t};\n};\n\nexport const rotate = (from, to) => {\n\tif (to === undefined) {\n\t\tto = from;\n\t\tfrom = 0;\n\t}\n\treturn {\n\t\tpropertyName: 'transform',\n\t\tcomputedValue: (newValue) => `rotate(${newValue}deg)`,\n\t\tsourceValue: from,\n\t\ttargetValue: to,\n\t};\n};\n\nexport const scale = (from, to) => {\n\tif (to === undefined) {\n\t\tto = from;\n\t\tfrom = 1;\n\t}\n\treturn {\n\t\tpropertyName: 'transform',\n\t\tcomputedValue: (newValue) => `scale(${newValue})`,\n\t\tsourceValue: from,\n\t\ttargetValue: to,\n\t};\n};\n"],"names":["between","value","start","end","Transition","element","duration","keyFrames","currentFrame","outOfFrame","update","styles","forEach","keyframe","properties","css","prop","n","e","newValue","sourceValue","targetValue","undefined","propertyName","computedValue","Object","entries","style","applyStyles","addKeyframe","cssProperties","push","next","requestAnimationFrame","previous","set","frame","translateX","from","to","translateY","rotate","scale"],"mappings":"AAAA,ICAaA,EAAU,SAACC,EAAOC,EAAOC,UAAQF,GAASC,GAASD,GAASE,GCQ5DC,EAAa,SAACC,EAASC,GACnC,IAAMC,EAAY,GACdC,EAAe,EACfC,GAAa,EACXC,EAAS,WACd,IAAMC,EAAS,GACfJ,EAAUK,QAAQ,SAACC,GAClB,IAAMC,EAAaD,EAASE,IAE3Bf,EACCQ,EACAF,EAAWO,EAASX,MACpBI,EAAWO,EAASV,KAGrBW,EAAWF,QAAQ,SAACI,GACnB,IFxBYC,EAAIC,EEwBVC,GFxBUD,EE4BfF,EAAKI,cAHLZ,GFzBWS,EE0BXX,EAAWO,EAASX,SACpBI,EAAWO,EAASV,IF3BkBc,IE6BtCD,EAAKK,YF7BuCH,QE+BXI,IAA9BX,EAAOK,EAAKO,gBACfZ,EAAOK,EAAKO,cAAgB,IAC7BZ,EAAOK,EAAKO,eAAiBP,EAAKQ,cAAcL,GAAY,MAG7DL,EAAWF,QAAQ,SAACI,GACnB,IAAMG,EACLX,EAAeF,EAAWO,EAASX,MAChCc,EAAKI,YACLJ,EAAKK,iBACyBC,IAA9BX,EAAOK,EAAKO,gBACfZ,EAAOK,EAAKO,cAAgB,IAC7BZ,EAAOK,EAAKO,eAAiBP,EAAKQ,cAAcL,GAAY,QAzC7C,SAACd,EAASM,GAC7Bc,OAAOC,QAAQf,GAAQC,QAAQ,YAC9BP,EAAQsB,mBA2CRC,CAAYvB,EAASM,IAEtB,MAAO,CACNkB,qBAAYC,EAAe5B,EAAOC,GAMjC,OALAI,EAAUwB,KAAK,CACdhB,IAAKe,EACL5B,MAAAA,EACAC,IAAAA,UAIF6B,gBACKxB,EAAeF,IAClBE,IACAyB,sBAAsBvB,KAGxBwB,oBACK1B,EAAe,IAClBA,IACAyB,sBAAsBvB,KAGxByB,aAAIC,GACCpC,EAAQoC,EAAO,EAAG9B,IACrBE,EAAe4B,EACfH,sBAAsBvB,GACtBD,GAAa,GAERA,IACJD,EAAe4B,EACfH,sBAAsBvB,GACtBD,GAAa,MC/EL4B,EAAa,SAACC,EAAMC,GAKhC,YAJWjB,IAAPiB,IACHA,EAAKD,EACLA,EAAO,GAED,CACNf,aAAc,YACdC,cAAe,SAACL,uBAA2BA,SAC3CC,YAAakB,EACbjB,YAAakB,IAIFC,EAAa,SAACF,EAAMC,GAKhC,YAJWjB,IAAPiB,IACHA,EAAKD,EACLA,EAAO,GAED,CACNf,aAAc,YACdC,cAAe,SAACL,uBAA2BA,SAC3CC,YAAakB,EACbjB,YAAakB,IAIFE,EAAS,SAACH,EAAMC,GAK5B,YAJWjB,IAAPiB,IACHA,EAAKD,EACLA,EAAO,GAED,CACNf,aAAc,YACdC,cAAe,SAACL,mBAAuBA,UACvCC,YAAakB,EACbjB,YAAakB,IAIFG,EAAQ,SAACJ,EAAMC,GAK3B,YAJWjB,IAAPiB,IACHA,EAAKD,EACLA,EAAO,GAED,CACNf,aAAc,YACdC,cAAe,SAACL,kBAAsBA,OACtCC,YAAakB,EACbjB,YAAakB"}